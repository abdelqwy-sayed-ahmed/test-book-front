{"version":3,"sources":["context/userContext.js","hooks/common/search.js","hooks/common/navbar.js","services/http.js","hooks/users/social/google.js","hooks/users/social/facebook.js","hooks/users/login.js","hooks/users/register.js","hooks/common/paginate.js","hooks/books/client/genreList.js","hooks/books/client/bookList.js","hooks/home.js","hooks/users/logout.js","hooks/users/forgetPassword.js","hooks/users/profile.js","hooks/books/admin/addBook.js","hooks/common/token.js","hooks/notFound.js","hooks/users/checkemail.js","hooks/users/assignPas.js","hooks/common/reset.js","hooks/edit/profileImage.js","hooks/books/client/viewBook.js","hooks/books/client/shoppingCart.js","hooks/books/client/viewCategory.js","hooks/books/admin/addGenre.js","hooks/books/admin/booklists.js","hooks/books/admin/editBookData.js","hooks/books/admin/adminViewBook.js","hooks/books/admin/editBookImage.js","App.js","reportWebVitals.js","index.js"],"names":["userContext","React","createContext","displayName","Search","handleSearch","useContext","Fragment","type","onChange","e","target","value","className","placeholder","name","NavBar","currentUser","getCartTotal","to","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-labelledby","user","isAdmin","role","data-toggle","onSubmit","preventDefault","axios","defaults","headers","common","localStorage","getItem","interceptors","response","use","error","status","console","log","Promise","reject","get","post","put","delete","Google","location","useLocation","onSuccess","data","a","http","hostUrl","tokenId","jwt","setItem","uid","jwtDecode","_id","state","window","from","pathname","signIn","useGoogleLogin","onFailure","res","clientId","process","cookiePolicy","onClick","Facebook","responseFacebook","appId","autoLoad","fields","callback","render","renderProps","Login","useState","email","password","setUser","errors","setErrors","errserver","setErrServer","schema","Joi","string","required","label","validate","abortEarly","details","item","path","message","handleInputChange","input","currentTarget","newErrors","errorMessage","obj","validateProperty","handleLoginSubmit","renderInput","htmlFor","disabled","Register","loading","setLoading","success","setSuccess","errmessage","setErrMessage","min","handleRegisterSubmit","setTimeout","Pagination","items","booksCount","filtering","length","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","map","page","Paginate","pageNumber","startIndex","slice","take","GenreList","lists","genres","handleGenreSelect","selectedGenre","genre","style","cursor","title","BookList","booksPerPage","book","height","replace","toLowerCase","src","image","alt","width","Home","paddingTop","paddingRight","Logout","useEffect","removeItem","yup","shape","Forget","useForm","resolver","yupResolver","register","handleSubmit","ref","Profile","list","setList","userId","profiles","getProfileData","imageOut","position","AddBook","options","results","bookValues","setBook","setImage","serverMessage","setServerMessage","price","number","positive","genreId","handleBookChange","handleFileChange","files","handleBookSubmit","formData","FormData","append","config","Headers","reload","cat","renderFileInput","CheckToken","setMessage","serverError","setServerError","token","useParams","getToken","NotFound","CheckEmail","password2","AssignPassword","ResetPassword","EditProfileImage","disable","setDisable","ViewBook","addToCart","bookId","getSingleBook","ShoppingCart","cart","books","cartFromLocalStorage","getTotalPrice","deleteCartItem","handleIncrement","handleDecrement","clearAllCartItems","scope","quantity","fontSize","ViewCategory","searchQuery","setBooks","filter","startsWith","genreTitle","getRelatedGenreItems","AddGenre","setGenre","servMessage","setServMessage","handleGenreChange","validatProperty","handleGenreSubmit","AdminBookLists","handledeleteBook","confirm","EditBookData","handleBookUpdate","defaultValue","AdminViewBook","setData","handleEditData","top","border","right","EditBookImage","handleEditBookImage","App","JSON","parse","setGenres","setBookValues","setSearchQuery","setCurrentPage","setSelectedGenre","setCart","i","getGenres","getBooks","stringify","decode","ex","Provider","query","newCart","itemIncart","find","push","reduce","sum","cartItems","itemInCart","maxWidth","margin","marginTop","display","exact","PrivateRoute","children","rest","auth","AdminRoute","checkAdmin","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1b2a6ff.chunk.js","sourcesContent":["import React from 'react';\r\nconst userContext=React.createContext();\r\nuserContext.displayName=userContext;\r\nexport default userContext","import React, { useContext } from 'react';\r\nimport userContext from '../../context/userContext';\r\n\r\nexport default function Search(){\r\n  const user=useContext(userContext)\r\n  const handleSearch=user.handleSearch\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <input\r\n      type=\"text\"\r\n      onChange={(e)=> handleSearch(e.target.value)}\r\n      className=\"form-control me-2\"\r\n      placeholder=\"Seach for Book...\"\r\n      name=\"query\"\r\n    />\r\n\r\n    </React.Fragment>\r\n  )\r\n}","import React, {useContext} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport userContext from '../../context/userContext';\r\nimport Search from './search';\r\n  \r\nexport default function NavBar() {\r\n  const currentUser=useContext(userContext)\r\n  const getCartTotal=currentUser.getCartTotal\r\n\r\n  return (\r\n      <div>\r\n        <nav className=\"navbar navbar fixed-top navbar-expand-lg navbar-dark bg-dark\">\r\n          <div className=\"container \">\r\n            <Link className=\"navbar-brand\" to=\"/\"><i className=\"fa fa-book fa-lg\"></i></Link>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle='collapse' data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\" collapse navbar-collapse collapse-hide\" id=\"navbarSupportedContent\">\r\n                \r\n              <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\" aria-labelledby=\"navbarSupportedContent\">\r\n      {/* not-Auth */}\r\n               {!currentUser.user&&(\r\n                 <React.Fragment>\r\n               <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/login\" ><i className=\"fa fa-user fa-2x text-primary\"></i></Link>\r\n                </li>\r\n                 </React.Fragment>\r\n               )\r\n                }\r\n    {/* Admin-Auth */}\r\n                {currentUser.user.isAdmin&&(\r\n                  <React.Fragment>\r\n                    <li className=\"nav-item dropdown\">\r\n                      <button className=\"btn btn-dark nav-link dropdown-toggle\" id=\"navbarDropdown\"  data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                        DashBoard\r\n                      </button>\r\n                      <ul className=\"dropdown-menu bg-dark \" aria-labelledby=\"navbarDropdown\">\r\n                        <li className=\"nav-item\">\r\n                        <Link className=\"nav-link mr-2\" to=\"/genre/add\" role=\"button\"data-toggle=\"collapse\">Add Genre</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                        <Link className=\"nav-link mr-2\" to=\"/books/add\">AddBook</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                        <Link className=\"nav-link mr-2\" to=\"/booklists\">Book lists</Link>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                  </React.Fragment>\r\n                )}\r\n      {/* user-Auth */}\r\n                {currentUser.user&&(\r\n                  <React.Fragment>\r\n                    <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/profile\" >{currentUser.user.name}</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <Link to=\"/logout\" className=\"nav-link\"  role=\"button\" data-toggle=\"collapse\">Logout</Link>\r\n                  </li>\r\n                  </React.Fragment>\r\n                  )}\r\n                  </ul>\r\n       {/* right-hand-side */}\r\n                <form className=\"d-flex mr-2\" onSubmit={e=>{e.preventDefault()}}>\r\n                  <Search/>\r\n                </form>\r\n                 <ul className=\"navbar-nav my-auto mb-2 mb-lg-0\">\r\n                 <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/cart\"><i className=\"fa fa-shopping-cart fa-2x text-primary\"></i><span className=\"badge rounded-pill bg-success\">{getCartTotal()}</span></Link>\r\n                </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n     \r\n        </nav>\r\n\r\n      </div>\r\n  \r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n","import axios from \"axios\";\r\n//configring default headers\r\n\r\naxios.defaults.headers.common[\"x-auth-token\"] = localStorage.getItem(\"token\");\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n  const expectedError =\r\n    error.response &&\r\n    error.response.status >= 400 &&\r\n    error.response.status < 500;\r\n\r\n  if (!expectedError) {\r\n    console.log('An unexpected Error',error);\r\n    // toast.error(\"An unexpected Error\");\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n};\r\n","import React from 'react';\r\nimport {useGoogleLogin} from 'react-google-login'\r\nimport http from '../../../services/http';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport jwtDecode from 'jwt-decode';\r\n//google client Id\r\n\r\n\r\nconst clientId=process.env.REACT_APP_GOOGLE_CLIENT_ID\r\n\r\nconst Google = () => {\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const location=useLocation()\r\n   //google login\r\n   const onSuccess=async data=>{\r\n    const {data:jwt} = await http.post(hostUrl+'/users/google',{tokenId:data.tokenId})\r\n    localStorage.setItem('token',jwt)\r\n    const uid=jwtDecode(jwt)\r\n    localStorage.setItem(\"uId\",uid._id)\r\n    const {state}=location\r\n    window.location=state?state.from.pathname:\"/\"\r\n}\r\nconst onFailure=res=>{\r\n  console.log('login failed:res:',res);\r\n}\r\nconst cookiePolicy='single_host_origin'\r\nconst {signIn}=useGoogleLogin({\r\n  onSuccess,\r\n  onFailure,\r\n  clientId,\r\n  cookiePolicy\r\n  \r\n})\r\n  return (\r\n    <div>\r\n      <button className=\"btn btn-light\" onClick={signIn}><span><i className=\"fa fa-google\"></i> Login with google account</span></button>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Google;\r\n\r\n","import React from 'react';\r\nimport http from '../../../services/http';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst Facebook = () => {\r\n  const location=useLocation()\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  //facebook login\r\n  const responseFacebook =async data=>{\r\n    const {data:jwt} = await http.post(hostUrl+'/users/facebook',data)\r\n    localStorage.setItem('token',jwt)\r\n    const uid=jwtDecode(jwt)\r\n    localStorage.setItem(\"uId\",uid._id)\r\n    const {state}=location\r\n    window.location=state?state.from.pathname:\"/\"\r\n\r\n}\r\n  \r\n  return (\r\n    <div>\r\n      <FacebookLogin\r\n        appId=\"865248894308326\"\r\n        autoLoad={false}\r\n        fields=\"name,email,picture.type(large)\"\r\n        callback={responseFacebook}\r\n        render={renderProps => (\r\n          <button className=\"btn btn-primary\" onClick={renderProps.onClick}><i className=\"fa fa-facebook\"></i> login with facebook account</button>\r\n        )}\r\n      />\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Facebook;\r\n\r\n","import React, {  useState,useContext } from 'react';\r\nimport Joi from 'joi-browser'\r\nimport http from '../../services/http';\r\nimport { useLocation,Link } from 'react-router-dom';\r\nimport Google from './social/google';\r\nimport Facebook from './social/facebook';\r\nimport userContext from '../../context/userContext';\r\nimport jwtDecode from 'jwt-decode';\r\n//schema\r\n\r\n\r\nexport default function Login(){\r\n  const currentUser=useContext(userContext)\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const initialValues={email:'',password:''}\r\n  const [user,setUser]=useState(initialValues)\r\n  const [errors,setErrors]=useState({})\r\n  const [errserver,setErrServer]=useState('')\r\n  const location=useLocation()\r\n  // const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  let schema={\r\n    email:Joi.string().required().email().label('Email'),\r\n    password:Joi.string().required().label('Password'),\r\n  }\r\n  //add validate property to display schema errors\r\n  const validate=()=>{\r\n    const options={abortEarly:false}\r\n    const {error}=Joi.validate(user,schema,options)\r\n    if(!error)return null;\r\n    const errors={}\r\n    for (let item of error.details)\r\n    errors[item.path[0]]=item.message\r\n    return errors\r\n   \r\n  }\r\n  const validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    schema = { [name]: schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  const handleInputChange=({currentTarget:input})=>{\r\n    const newErrors = {...errors};\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage) newErrors[input.name] = errorMessage;\r\n    else delete newErrors[input.name];\r\n    setErrors(newErrors)\r\n    const {name,value}=input\r\n    setUser({...user,[name]:value})\r\n  }\r\n  const handleLoginSubmit=async(user)=>{\r\n    let errors=validate()\r\n     setErrors(errors||{})\r\n     if(errors)return;\r\n    //formData\r\n    try{ \r\n      const {data:jwt}= await http.post(hostUrl+'/users/login',user)\r\n       localStorage.setItem('token',jwt)\r\n       const uid=jwtDecode(jwt)\r\n       localStorage.setItem(\"uId\",uid._id)\r\n       // direct after login\r\n       const {state}=location\r\n       window.location=state?state.from.pathname:\"/\"\r\n     }catch(ex){\r\n       if(ex.response&&ex.response.status===400){\r\n         setErrServer(ex.response.data)\r\n       }\r\n     }\r\n  }\r\n  const renderInput=(type,name,label,value)=>{\r\n    return(\r\n      <div className=\"form-group mb-2\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type={type} name={name} value={value}  className=\"form-control mt-2\" onChange={handleInputChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n  //check current User\r\n     if(currentUser.user) window.location=\"/\"\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {errserver&&<div className=\"alert alert-danger\">{errserver}</div>}\r\n          <h2 className=\"text-center text-primary\">Login Form</h2>\r\n          <form onSubmit={e=>{\r\n            e.preventDefault()\r\n            handleLoginSubmit(user)\r\n          }}>\r\n          \r\n            {renderInput('text','email','Email',user.email)}\r\n            {renderInput('password','password','Password',user.password)}\r\n             <button className=\"btn btn-primary mt-2 \" disabled={validate()}>Login</button>\r\n\r\n          <div className=\"row \">\r\n            <div className=\"col-md-6 text-center mt-2\">\r\n               <Link to =\"/forget\">Forget password</Link>\r\n            </div>\r\n          <div className=\"col-md-6 text-center mt-2\" >\r\n          <Link to =\"/register\">Create new account</Link>\r\n          </div>\r\n          </div>\r\n          </form>\r\n          <div className=\"text-center mt-2\">\r\n            <Google/>\r\n          </div>\r\n          <div className=\"text-center \">\r\n            <Facebook/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n  );\r\n};\r\n\r\n","import React,{useState} from 'react';\r\nimport http from '../../services/http'\r\nimport { Link } from 'react-router-dom';\r\nimport Joi from 'joi-browser'\r\nexport default function Register(){\r\n  const[loading,setLoading]=useState(false)\r\n  const initialValues={name:'',email:'',password:''}\r\n  const [user,setUser]=useState(initialValues)\r\n  const [errors,setErrors]=useState({});\r\n  const [success,setSuccess]=useState('');\r\n  const [errmessage,setErrMessage]=useState('');\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n   \r\n  let schema={\r\n    name:Joi.string().required().label('Name'),\r\n    email:Joi.string().required().email().label('Email'),\r\n    password:Joi.string().required().min(6).label('Password'),\r\n  }\r\n  //add validate property to display schema errors\r\n  const validate=()=>{\r\n    const options={abortEarly:false}\r\n    const {error}=Joi.validate(user,schema,options)\r\n    if(!error)return null;\r\n    const errors={}\r\n    for (let item of error.details)\r\n    errors[item.path[0]]=item.message\r\n    return errors\r\n   \r\n  }\r\n  const validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    schema = { [name]: schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  const handleInputChange=({currentTarget:input})=>{\r\n    const newErrors = {...errors};\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage) newErrors[input.name] = errorMessage;\r\n    else delete newErrors[input.name];\r\n    setErrors(newErrors)\r\n    const {name,value}=input\r\n    setUser({...user,[name]:value})\r\n  }\r\n  const handleRegisterSubmit=async(user)=>{\r\n    let errors=validate()\r\n     setErrors(errors||{})\r\n     if(errors)return;\r\n    //formData\r\n    try{\r\n      setLoading(true)\r\n      const res= await http.post(hostUrl+'/users/register',user)\r\n    if(res&&res.status===200){\r\n      setSuccess(res.data)\r\n      setTimeout(() => {\r\n        window.location=\"/login\"\r\n      }, 2000);\r\n    }\r\n    }catch(ex){\r\n      setLoading(false)\r\n      if(ex.response&&ex.response.status===400){\r\n        setErrMessage(ex.response.data)\r\n      }\r\n    }\r\n  }\r\n  const renderInput=(type,name,label,value)=>{\r\n    return(\r\n      <div className=\"form-group mb-2\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type={type} name={name} value={value}  className=\"form-control mt-2\" onChange={handleInputChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {success&&<div className=\"alert alert-success\">{success}</div>}\r\n          {errmessage&&<div className=\"alert alert-danger\">{errmessage}</div>}\r\n          <h2 className=\"text-center text-primary\">Register Form</h2>\r\n          <form onSubmit={e=>{\r\n            e.preventDefault()\r\n            handleRegisterSubmit(user)\r\n          }}>\r\n            {renderInput('text','name','Name',user.name)}\r\n            {renderInput('text','email','Email',user.email)}\r\n            {renderInput('password','password','Password',user.password)}\r\n             <button className=\"btn btn-primary\"\r\n             disabled={loading ||validate()}\r\n             >{loading&&<i className=\"fa fa-refresh fa-spin\"></i>}Submit</button>\r\n             <div className=\"mt-2\">\r\n               <Link to =\"/login\"> Already have an account please login</Link>\r\n             </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n  );\r\n};\r\n\r\n","import React, { useContext } from 'react';\r\nimport userContext from '../../context/userContext';\r\nimport _ from 'lodash';\r\nexport default function Pagination(){\r\n \r\n  //imported props with contextPI\r\n  const items=useContext(userContext)\r\n  const filtering=items.filtering\r\n  const booksCount=filtering.length\r\n  const pageSize=items.pageSize\r\n  const currentPage=items.currentPage\r\n  const onPageChange=items.onPageChange\r\n\r\n  const pagesCount=Math.ceil(booksCount/pageSize)\r\n\r\n  //lodash\r\n  if(pagesCount===1) return null;\r\n\r\n  const pages=_.range(1,pagesCount+1)\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul className=\"pagination\">\r\n          {pages.map(page=>(\r\n            <li key={page}\r\n            className={page===currentPage?\"page-item active\": \"page-item\"}><button className=\"page-link\" onClick={()=>onPageChange(page)}>{page}</button></li>\r\n          ))}\r\n          \r\n\r\n        </ul>\r\n      </nav>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport function Paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","import React,{useContext} from 'react';\r\nimport userContext from '../../../context/userContext';\r\n\r\nconst GenreList = () => {\r\n  const lists=useContext(userContext)\r\n  const genres=lists.genres \r\n  const handleGenreSelect=lists.handleGenreSelect\r\n  const selectedGenre=lists.selectedGenre\r\n  return (\r\n    <React.Fragment>\r\n      <ul className=\"list-group text-center\">\r\n            {genres.map(genre=>(\r\n              <li className={genre===selectedGenre?\"list-group-item active\":\"list-group-item\"} \r\n              key={genre._id} style={{cursor:'pointer'}} onClick={()=>handleGenreSelect(genre)}>{genre.title}</li>\r\n            ))}\r\n\r\n          </ul>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default GenreList;","\r\nimport React,{useContext} from 'react';\r\nimport userContext from '../../../context/userContext';\r\nimport { Link } from 'react-router-dom';\r\nimport  { Paginate } from '../../common/paginate';\r\n// const hostUrl=process.env.REACT_APP_HOST_URL\r\nconst BookList = () => {\r\n  const lists=useContext(userContext)\r\n  const pageSize=lists.pageSize\r\n  const currentPage=lists.currentPage\r\n  const filtering=lists.filtering\r\n  const booksPerPage=Paginate(filtering,currentPage,pageSize)\r\n \r\n \r\n\r\n  return (\r\n    <React.Fragment>\r\n      {booksPerPage.length===0&&<h3 className='text-center text-danger'>Sorry no much results found</h3>}\r\n      <div className=\"row text-center\">\r\n        {booksPerPage.map(book=>(\r\n          <div className=\"col-md-4\"key={book._id}>\r\n            <div className=\"card card-body mt-2 border-white\" style={{height:\"250\"}} >\r\n              <Link to={`/books/${book.title.replace(/\\s+/g, '-').toLowerCase()}/${book._id}`}>\r\n              <img src={book.image} alt={book.title} height=\"200\" width=\"200\" style={{cursor:'pointer'}} />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        \r\n    </div>\r\n    {/* {booksPerPage.length===0&&<h3 className='text-center text-danger'>Sorry no much results found</h3>} */}\r\n      \r\n    </React.Fragment>\r\n  )\r\n  // if(booksPerPage.length===0)return(<React.Fragment>\r\n  //   <h3 className=\"text-danger text-center mt-4\">Sorry no results found...</h3>\r\n   \r\n  // </React.Fragment>)\r\n  \r\n};\r\n\r\nexport default BookList;","import React,{useContext} from 'react';\r\nimport Pagination from './common/paginate';\r\nimport GenreList from './books/client/genreList';\r\nimport BookList from './books/client/bookList';\r\nimport userContext from './../context/userContext';\r\n\r\nexport default function Home(){\r\n  const lists=useContext(userContext)\r\n  const loading=lists.loading\r\n  if(loading===true)return(\r\n    <div className=\"text-center\" style={{paddingTop:\"100px\",paddingRight:\"25px\"}}><i className=\"fa fa-spinner fa-pulse fa-3x \"></i></div>\r\n  )\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-4\">\r\n          <GenreList/>\r\n        </div>\r\n        <div className=\"col-md-8 mt-4 text-center mb-5\">\r\n          <BookList/>  \r\n        <div className=\"mt-5\">\r\n          <Pagination/>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}","import { useEffect } from 'react';\r\n\r\nconst Logout = () => {\r\n  useEffect(()=>{\r\n    localStorage.removeItem('token')\r\n    localStorage.removeItem('check')\r\n    localStorage.removeItem('uId')\r\n    // localStorage.clear();\r\n    window.location=\"/\"\r\n  })\r\n  return (\r\n    null\r\n  );\r\n};\r\n\r\nexport default Logout;","import React,{useState} from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport axios from 'axios';\r\n//schema\r\nconst schema = yup.object().shape({\r\n  email: yup.string().required().email(),\r\n});\r\n\r\nexport default function Forget(){\r\n  const[loading,setLoading]=useState(false)\r\n\r\n  const {register,handleSubmit,errors}=useForm({resolver:yupResolver(schema)})\r\n  const [success,setSuccess]=useState('');\r\n  const [errmessage,setErrMessage]=useState('');\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n   \r\n\r\n  const onSubmit=async(data)=>{\r\n    try{\r\n      setLoading(true)\r\n      const response= await axios.post(hostUrl+'/users/forget',data)\r\n    if(response&&response.status===200){\r\n      setSuccess(response.data)\r\n      setLoading(false)\r\n      // setTimeout(() => {\r\n      //   window.location=\"/login\"\r\n      // }, 2000);\r\n    }\r\n    }catch(ex){\r\n      setLoading(false)\r\n      if(ex.response&&ex.response.status===400){\r\n        setErrMessage(ex.response.data)\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {success&&<div className=\"alert alert-success\">{success}</div>}\r\n          {errmessage&&<div className=\"alert alert-danger\">{errmessage}</div>}\r\n          <h2 className=\"text-center text-primary\">Forget Password</h2>\r\n          <h6 className=\"mt-3 text-center\">Please enter your valid Email then you will receive anew mail click on the link on it to rest your password</h6>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input type=\"text\" name=\"email\" ref={register}\r\n            placeholder=\"Enter your valid email\" className=\"form-control mt-4\"\r\n             />\r\n             <p className=\"text-danger\">{errors.email?.message}</p>\r\n            \r\n             <button className=\"btn btn-primary\" disabled={loading}>{loading&&<i className=\"fa fa-refresh fa-spin\"></i>} Submit</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n  );\r\n};\r\n\r\n","\r\nimport React from 'react'\r\nimport { useEffect ,useState} from 'react';\r\nimport http from '../../services/http';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Profile(){\r\n  const [list,setList]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  useEffect(()=>{\r\n    async function getProfileData(){\r\n      const userId=localStorage.getItem('uId');\r\n      const {data:profiles}=await http.get(hostUrl+`/users/profile/${userId}`)\r\n      setList(profiles)\r\n    }\r\n    getProfileData()\r\n  },[hostUrl])\r\n  \r\n \r\n\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-4 text-center\">\r\n        {list.imageOut&&(\r\n          <div>\r\n            <img src={list.image} className=\"img-fluid rounded-circle\" height=\"200\"width=\"200\" alt={list.name}/>\r\n            <Link to='/profile/edit/image'><i className=\"fa fa-edit text-info\"  style={{cursor:\"pointer\" ,position:\"absolute\",}}></i></Link>\r\n          </div>\r\n        )}\r\n        {!list.imageOut&&(\r\n          <div>\r\n            <img src={hostUrl+`/${list.image}`} className=\"img-fluid rounded-circle\" height=\"200\"width=\"200\" alt={list.name}/>\r\n            <Link to='/profile/edit/image'><i className=\"fa fa-edit text-info\"  style={{cursor:\"pointer\" ,position:\"absolute\",}}></i></Link>\r\n          </div>\r\n        )}\r\n\r\n        </div>\r\n        <div className=\"col-md-8 text-center\">\r\n          <h3>{list.name}</h3>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\n","import React,{useContext,useState} from 'react'\r\nimport Joi from 'joi-browser'\r\nimport userContext from '../../../context/userContext';\r\nimport http from '../../../services/http';\r\n\r\nexport default function AddBook(){\r\n  const results=useContext(userContext);\r\n  const genres=results.genres;\r\n  const bookValues=results.bookValues\r\n  const [book,setBook]=useState(bookValues)\r\n  const [image,setImage]=useState('')\r\n  const [serverMessage,setServerMessage]=useState('')\r\n  const [errors,setErrors]=useState({});\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  \r\n  let schema={\r\n    title:Joi.string().required().label('Title'),\r\n    price:Joi.number().required().positive().label('Price'),\r\n    genreId:Joi.string().required().label('Genre'),\r\n  }\r\n  //add validate property to display schema errors\r\n  const validate=()=>{\r\n    const options={abortEarly:false}\r\n    const {error}=Joi.validate(book,schema,options)\r\n    if(!error)return null;\r\n    const errors={}\r\n    for (let item of error.details)\r\n    errors[item.path[0]]=item.message\r\n    return errors\r\n   \r\n  }\r\n  const validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    schema = { [name]: schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  const handleBookChange=({currentTarget:input})=>{\r\n    const newErrors = {...errors};\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage) newErrors[input.name] = errorMessage;\r\n    else delete newErrors[input.name];\r\n    setErrors(newErrors)\r\n    const {name,value}=input\r\n    setBook({...book,[name]:value})\r\n  }\r\n  const handleFileChange=({currentTarget:input})=>{\r\n    setImage(input.files[0])\r\n  }\r\n  const handleBookSubmit=async(book)=>{\r\n    let errors=validate()\r\n     setErrors(errors||{})\r\n     if(errors)return;\r\n     \r\n    //formData\r\n    let formData=new FormData()\r\n    formData.append('title',book.title)\r\n    formData.append('price',book.price)\r\n    formData.append('genreId',book.genreId)\r\n    formData.append('image',image)\r\n    const config={\r\n      Headers:{'Content-Type':'multipart/form-data'}\r\n    }\r\n    const res=await http.post(hostUrl+'/books/add',formData,config)\r\n    if(res&&res.status===200){\r\n      setServerMessage(res.data)\r\n      setTimeout(()=>{window.location.reload()},2000)\r\n    }\r\n  }\r\n  const renderInput=(type,name,label,value)=>{\r\n    return(\r\n      <div className=\"form-group mb-2\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type={type} name={name} value={value}  className=\"form-control mt-2\" onChange={handleBookChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n  const renderFileInput=(name,label)=>{\r\n    return(\r\n      <div className=\"form-group mb-2\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type=\"file\" name={name}  className=\"form-control mt-2\" onChange={handleFileChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n  const renderSelect=(name,label,options)=>{\r\n    return(\r\n      <div className=\"form-group mt-2\">\r\n        <label>{label}</label>\r\n        <select \r\n        name={name}/*\"genreId\"*/\r\n        onChange={handleBookChange}\r\n        className=\"form-select mt-2\"\r\n        value={book.genreId}\r\n        >\r\n        {options.map((cat)=>(\r\n          <option key={cat._id} value={cat._id} >{cat.title}</option>\r\n          ))} \r\n        </select>\r\n        {errors&&<p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\nreturn(\r\n  <React.Fragment>\r\n    <div className=\"row mt-5\" >\r\n      <div className=\"col-md-8 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {serverMessage&&<div className=\"alert alert-success\">{serverMessage}</div>}\r\n          <h4 className=\"text-center text-primary\">Add New book</h4>\r\n          <form onSubmit={e=>{\r\n            e.preventDefault()\r\n            handleBookSubmit(book)\r\n          }}>\r\n            {renderInput('text','title','Book Title',book.title)}\r\n            {renderInput('text','price','Price',book.price)}\r\n            {renderSelect('genreId','Category',genres)}\r\n            {renderFileInput('image','Book cover')}\r\n            <button className=\"btn btn-primary mt-3\"disabled={validate()} >Submit</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </React.Fragment>\r\n)\r\n\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport http from '../../services/http';\r\n\r\nexport default function CheckToken(){\r\n  const [message,setMessage]=useState('')\r\n  const [serverError,setServerError]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const{token}=useParams()\r\n  useEffect(()=>{\r\n    async function getToken(){\r\n    try{\r\n        const response=await http.get(hostUrl+`/users/confirm/${token}`)\r\n        if(response&&response.status===200){\r\n          setMessage(response.data)\r\n          setTimeout(()=>window.location='/login',4000)\r\n        }\r\n      }catch(ex){\r\n        if(ex.response &&ex.response.status===401){\r\n          setServerError(ex.response.data)\r\n          setTimeout(()=>window.location='/checkemail',5000)\r\n        }\r\n        if (ex.response && ex.response.status===400){\r\n          setServerError(ex.response.data)\r\n          setTimeout(()=>window.location='/login',4000)\r\n        }  \r\n      }\r\n    }\r\n    getToken()\r\n  },[token,hostUrl])\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"mt-2\">\r\n        <div>\r\n          {serverError&&<div className=\"alert alert-danger\">{serverError}</div>}\r\n        </div>\r\n        <div>\r\n          {message&&<div className=\"alert alert-success\">{message}</div>}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}","import React from 'react';\r\n\r\n\r\nexport default function NotFound(){\r\n\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <h1 className=\"text-center m-5\">Error 404 !! Page Not Found </h1>\r\n    </React.Fragment>\r\n  )\r\n}","import React,{useState} from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport http from '../../services/http';\r\n\r\n//schema\r\nconst schema = yup.object().shape({\r\n  email: yup.string().required().email(),\r\n});\r\n\r\nexport default function CheckEmail() {\r\n\r\n  const[loading,setLoading]=useState(false)\r\n  const[success,setSuccess]=useState(false)\r\n  const {register,handleSubmit,errors}=useForm({resolver:yupResolver(schema)});\r\n  const [errserver,setErrServer]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  //handleSubmit\r\n  const onSubmit=async(data)=>{\r\n    try{ \r\n      setLoading(true)\r\n     const response= await http.post(hostUrl+'/users/token',data)\r\n     if(response&&response.status===200){\r\n      setSuccess(response.data)\r\n      setTimeout(() => {\r\n        window.location=\"/login\"\r\n      }, 2000);\r\n    }\r\n    }catch(ex){\r\n      setLoading(false)\r\n      if(ex.response&&ex.response.status===400){\r\n        setErrServer(ex.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {errserver&&<div className=\"alert alert-danger\">{errserver}</div>}\r\n          {success&&<div className=\"alert alert-success\">{success}</div>}\r\n          \r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <h5 className=\"text-center\">Enter Your Valid Email to send new Email Verification</h5>\r\n            <input type=\"text\" name=\"email\" ref={register}\r\n            placeholder=\"Enter your valid email\" className=\"form-control\"\r\n             />\r\n             <p className=\"text-danger\">{errors.email?.message}</p>\r\n            \r\n             <button className=\"btn btn-primary \" disabled={loading}>{loading&&<i className=\"fa fa-refresh fa-spin\"></i>}Send</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n  );\r\n  \r\n}","import React,{useState} from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport http from '../../services/http';\r\n\r\n//schema\r\nconst schema = yup.object().shape({\r\n  email: yup.string().required().email(),\r\n  password: yup.string().required().min(6),\r\n  password2: yup.string().required().min(6)\r\n});\r\n\r\nexport default function AssignPassword() {\r\n  const {register,handleSubmit,errors}=useForm({resolver:yupResolver(schema)});\r\n  const [errserver,setErrServer]=useState('')\r\n  const [success,setSuccess]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n\r\n  //handleSubmit\r\n  const onSubmit=async(data)=>{\r\n    try{ \r\n     const response= await http.post(hostUrl+'/users/assign',data)\r\n     if(response&&response.status===200){\r\n       setSuccess(response.data)\r\n       setTimeout(()=>window.location='/login',4000)\r\n\r\n     }\r\n    }catch(ex){\r\n      if(ex.response&&ex.response.status===400){\r\n        setErrServer(ex.response.data)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {errserver&&<div className=\"alert alert-danger\">{errserver}</div>}\r\n          {success&&<div className=\"alert alert-success\">{success}</div>}\r\n          <h2 className=\"text-center text-primary\">Re-assign Password</h2>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n          \r\n            \r\n            <input type=\"text\" name=\"email\" ref={register}\r\n            placeholder=\"Enter your email again\" className=\"form-control\"\r\n             />\r\n             <p className=\"text-danger\">{errors.email?.message}</p>\r\n            <input type=\"password\" name=\"password\" ref={register}\r\n            placeholder=\"Enter Password\" className=\"form-control\"\r\n             />\r\n             <p className=\"text-danger\">{errors.password?.message}</p>\r\n            <input type=\"password\" name=\"password2\" ref={register}\r\n            placeholder=\"Re-enter Password\" className=\"form-control\"\r\n             />\r\n             <p className=\"text-danger\">{errors.password2?.message}</p>\r\n             <button className=\"btn btn-primary \">Confirm</button>\r\n\r\n          \r\n          </form>\r\n          \r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n  );\r\n};\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport http from '../../services/http';\r\n\r\nexport default function ResetPassword(){\r\n  const [message,setMessage]=useState('')\r\n  const [serverError,setServerError]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n\r\n  const{token}=useParams()\r\n  useEffect(()=>{\r\n    async function getToken(){\r\n    try{\r\n        const response=await http.get(hostUrl+`/users/forget/${token}`)\r\n        if(response&&response.status===200){\r\n          setMessage(response.data)\r\n          setTimeout(()=>window.location='/assign-password',4000)\r\n        }\r\n      }catch(ex){\r\n        if(ex.response &&ex.response.status===400){\r\n          setServerError(ex.response.data)\r\n          setTimeout(()=>window.location='/forget',5000)\r\n        }\r\n       \r\n      }\r\n    }\r\n    getToken()\r\n  },[token,hostUrl])\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"mt-2\">\r\n        <div>\r\n          {serverError&&<div className=\"alert alert-danger\">{serverError}</div>}\r\n        </div>\r\n        <div>\r\n          {message&&<div className=\"alert alert-success\">{message}</div>}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport http from '../../services/http';\r\n\r\nexport default function EditProfileImage(){\r\n  const [image,setImage]=useState('')\r\n  const [success,setSuccess]=useState('')\r\n  const [disable,setDisable]=useState(true)\r\n  const {handleSubmit}=useForm()\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const onSubmit=async()=>{\r\n    \r\n    const formData=new FormData()\r\n    formData.append('image',image)\r\n    const userId=localStorage.getItem('uId')\r\n    const response=await http.put(hostUrl+`/users/profile/image/${userId}`,formData)\r\n    if(response&&response.status===200){\r\n      setSuccess(response.data)\r\n    }\r\n    setTimeout(() => {\r\n      window.location=\"/profile\"\r\n    }, 2000);\r\n    \r\n  }\r\n\r\n  const handleChange=e=>{\r\n    setImage(e.target.files[0])\r\n    setDisable(false)\r\n  }\r\n  \r\n \r\n  return(\r\n    <div>\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-7 mx-auto\">\r\n          <div className=\"card card-body\">\r\n            {success&&<div className=\"alert alert-success\">{success}</div>}\r\n            <h3 className=\"text-center\">Edit Profile Image</h3>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"image\">Upload image</label>\r\n                <input type=\"file\"\r\n                name='image'\r\n                id='image'\r\n                onChange={handleChange}\r\n                className='form-control'\r\n                />\r\n              </div>\r\n              <button className=\"btn btn-primary mt-2\" disabled={disable}>Upload</button>\r\n\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React,{ useContext, useEffect, useState} from 'react';\r\nimport { useParams,Link } from 'react-router-dom';\r\nimport http from '../../../services/http';\r\nimport userContext from '../../../context/userContext';\r\nexport default function ViewBook() {\r\n  const [book,setBook]=useState([])\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  let cart=useContext(userContext)\r\n  let addToCart=cart.addToCart\r\n  const {bookId}=useParams()\r\n  useEffect(()=>{\r\n    async function getSingleBook(){\r\n      const {data:res}=await http.get(hostUrl+`/books/${bookId}`)\r\n      setBook(res)\r\n    }\r\n    getSingleBook()\r\n  },[bookId,hostUrl])\r\n\r\n \r\n \r\n  return (\r\n    <React.Fragment>\r\n     \r\n        {book.map(book=>(\r\n         <div className=\"row mt-4\" key={book._id}>\r\n          <div className=\"col-md-4 mb-2\" >\r\n            <div className=\"text-center \">\r\n            <img src={book.image} alt={book.title} width=\"250\" height=\"250\"/>\r\n            </div>\r\n            </div>\r\n           <div className=\"col-md-8 \">\r\n             <div className=\"\">\r\n               <h1>{book.title}</h1>\r\n              <h3>$ {book.price}</h3>\r\n                <Link to={`/categories/${book.genre.title}`}> <h5>{book.genre.title}</h5> </Link>\r\n\r\n                  <button className=\"btn btn-primary m-2\" onClick={()=>addToCart(book)}><i className=\"fa fa-shopping-cart\"></i> Add to Cart</button>\r\n             </div>\r\n           </div>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","\r\nimport React, { useContext } from 'react';\r\nimport userContext from '../../../context/userContext';\r\n\r\nexport default function ShoppingCart(){\r\n  const list=useContext(userContext)\r\n  const cart=list.cart\r\n  const books=list.cartFromLocalStorage\r\n  const getTotalPrice=list.getTotalPrice\r\n  const deleteCartItem=list.deleteCartItem\r\n  const handleIncrement=list.handleIncrement\r\n  const handleDecrement=list.handleDecrement\r\n  const clearAllCartItems=list.clearAllCartItems\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  return(\r\n    <React.Fragment>\r\n\r\n     <div className=\"row\">\r\n       <div className=\"col-md-8 mx-auto\">\r\n       <table className=\"table mt-4\">\r\n      <thead className=\"text-center\">\r\n        <tr>\r\n          <th scope=\"col\">Item</th>\r\n          <th scope=\"col\"> </th>\r\n          <th scope=\"col\">Qty</th>\r\n          <th scope=\"col\">price</th>\r\n          <th scope=\"col\"> </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody className=\"text-center\">\r\n        {books.map(book=>(\r\n          <tr className=\"align-middle\" key={book._id}>\r\n          <th ><img src={hostUrl+`/${book.image}`} alt={book.title} width=\"100\" height=\"100\"/></th>\r\n          <td ><h5>{book.title}</h5></td>\r\n          {/* <td><input type=\"number\" min={1}  defaultValue={book.quantity }onChange={(e)=>setQuantity(book,parseInt(e.target.value))} style={{cursor:'pointer'}} /></td> */}\r\n          \r\n            <td>\r\n            <div className=\"d-flex align-items-center \">\r\n            <button className=\"btn btn-primary btn-sm\" onClick={()=>handleDecrement(book)} disabled={book.quantity===1}>-</button>\r\n            <span className=\"badge text-secondary \" style={{fontSize:\"18px\"}}>{book.quantity}</span>\r\n            <button className=\"btn btn-primary btn-sm\" onClick={()=>handleIncrement(book)}>+</button>\r\n            </div>\r\n            </td>\r\n          \r\n          \r\n          <td>{book.price}</td>\r\n          <td><button className=\"btn btn-danger\" onClick={()=>deleteCartItem(book)}><i className=\"fa fa-trash\"></i></button></td>\r\n        </tr>\r\n        ))}\r\n        <tr>\r\n          <td></td>\r\n          <td><h4 className=\"text-primary\">Total Price ${getTotalPrice()}</h4> </td>\r\n          {/* <td></td> */}\r\n          <td>{cart.length>=1 &&(<button className=\"btn btn-danger btn-sm\"onClick={clearAllCartItems}>Empty Cart </button>)}</td>\r\n\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n       </div>\r\n     </div>\r\n    </React.Fragment>\r\n  )\r\n}","import React,{useEffect,useState,useContext} from 'react';\r\nimport { useParams,Link } from 'react-router-dom';\r\nimport http from '../../../services/http';\r\nimport userContext from '../../../context/userContext';\r\nconst hostUrl=process.env.REACT_APP_HOST_URL\r\nconst ViewCategory = () => {\r\n  const items=useContext(userContext)\r\n  const searchQuery=items.searchQuery\r\n  const [books,setBooks]=useState([])\r\n  const [loading,setLoading]=useState(true)\r\n \r\n  let filtering=books;\r\n  if (searchQuery)\r\n      filtering = books.filter((book) =>\r\n        book.title.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n\r\n  const {genreTitle}=useParams()\r\n  useEffect(()=>{\r\n   setTimeout(() => {\r\n    async function getRelatedGenreItems(){\r\n      const {data:res}=await http.get(hostUrl+`/books/genre/${genreTitle}`)\r\n      setBooks(res)\r\n      setLoading(false)\r\n    }\r\n    getRelatedGenreItems()\r\n   }, );\r\n  },[genreTitle])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {loading&&<div className=\"text-center\" style={{paddingTop:\"100px\"}}><i className=\"fa fa-spinner fa-pulse fa-3x \">{loading}</i></div>}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 mx-auto\">\r\n            <div className=\"row\">\r\n              {filtering.map(book=>(\r\n                  <div className=\"col-md-4\"key={book._id}>\r\n                    <div className=\"card card-body mt-2 border-white\" style={{height:\"200\"}} >\r\n                    <Link to={`/books/${book.title.replace(/\\s+/g, '-').toLowerCase()}/${book._id}`}>\r\n                    <img src={book.image} alt={book.title} height=\"200\" width=\"200\" style={{cursor:'pointer'}} />\r\n                   </Link>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ViewCategory;","import React, { useState } from 'react';\r\nimport Joi from 'joi-browser'\r\nimport http from '../../../services/http'\r\nconst AddGenre = () => {\r\n  const initialGenreValues={title:''}\r\n  const [genre,setGenre]=useState(initialGenreValues)\r\n  const [servMessage,setServMessage]=useState('');\r\n  const [errors,setErrors]=useState({});\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  let schema={\r\n    title:Joi.string().required().min(3).label('Title'),\r\n  }\r\n  //add validate property to display schema errors\r\n  const validate=()=>{\r\n    const options={abortEarly:false}\r\n    const {error}=Joi.validate(genre,schema,options)\r\n    if(!error)return null;\r\n    const errors={}\r\n    for (let item of error.details)\r\n    errors[item.path[0]]=item.message\r\n    return errors\r\n   \r\n  }\r\n\r\n  const validatProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    schema = { [name]: schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  const handleGenreChange=({currentTarget:input})=>{\r\n    const newErrors = {...errors};\r\n    const errorMessage = validatProperty(input);\r\n    if (errorMessage) newErrors[input.name] = errorMessage;\r\n    else delete newErrors[input.name];\r\n    setErrors(newErrors)\r\n    const {name,value}=input\r\n    setGenre({...genre,[name]:value})\r\n  }\r\n  const handleGenreSubmit=async(genre)=>{\r\n    let errors=validate()\r\n     setErrors(errors||{})\r\n     if(errors)return;\r\n    const res=await http.post(hostUrl+'/genres',genre)\r\n    // setGenres(res)\r\n    if(res&&res.status===200){\r\n      setServMessage(res.data)\r\n      setTimeout(()=>{window.location.reload()},2000)\r\n    }\r\n  }\r\n\r\n  const renderInput=(name,label,value)=>{\r\n    return(\r\n      <div className=\"form-group\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type=\"text\" name={name} value={value}  className=\"form-control\" onChange={handleGenreChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-md-7 mx-auto\">\r\n          <div className=\"card card-body\">\r\n            {servMessage&&<div className=\"alert alert-success\">{servMessage}</div>}\r\n            <h3 className='text-center text-primary'>Add New Genre</h3>\r\n            <form onSubmit={e=>{\r\n              e.preventDefault(\r\n                handleGenreSubmit(genre)\r\n              )\r\n            }}>\r\n              {renderInput('title','Title',genre.title)}\r\n              <button className=\"btn btn-primary mt-3\" disabled={validate()}>Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AddGenre;","import React ,{useContext,useState} from 'react';\r\nimport GenreList from '../client/genreList';\r\nimport Pagination, {Paginate} from './../../common/paginate';\r\nimport userContext from './../../../context/userContext';\r\nimport { Link } from 'react-router-dom';\r\nimport http from '../../../services/http';\r\n\r\nconst AdminBookLists = () => {\r\n  const [servMessage,setServMessage]=useState('')\r\n  const lists=useContext(userContext)\r\n  const pageSize=lists.pageSize\r\n  const loading=lists.loading\r\n  const currentPage=lists.currentPage\r\n  const filtering=lists.filtering\r\n  const booksPerPage=Paginate(filtering,currentPage,pageSize)\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n\r\n  const handledeleteBook=async(book)=>{\r\n    if(window.confirm('Are you sure to delete this book ?')){\r\n      const bookId=book._id\r\n      const res=await http.delete(hostUrl+`/books/${bookId}`)\r\n      if(res&&res.status===200){\r\n        setServMessage(res.data)\r\n        setTimeout(()=>{\r\n          window.location=\"/booklists\"\r\n        },2000)\r\n      }\r\n    }else{\r\n      return null\r\n    }\r\n  }\r\n  if(loading===true)return(\r\n    <div className=\"text-center\" style={{paddingTop:\"100px\",paddingRight:\"25px\"}}><i className=\"fa fa-spinner fa-pulse fa-3x \"></i></div>\r\n  )\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"row mt-5 mb-2 text-center\">\r\n        <div className=\"col-md-3\">\r\n          <GenreList/>\r\n        </div>\r\n        <div className=\"col-md-9 text-center\">\r\n          <div className=\"row text-center \">\r\n          {servMessage&&<div className=\"alert alert-danger\">{servMessage}</div>}\r\n        {booksPerPage.length===0 &&<h3 className=\"text-center text-danger\" >Sorry No much Results found </h3>}\r\n            {booksPerPage.map(book=>(\r\n            <div className=\"col-md-4 \" key={book._id}>\r\n              <div className=\"card text-center mt-2 \"style={{width:\"250px\"}} >\r\n                <div className=\"card-img-top text-center\"  >\r\n                  <img src={book.image} alt={book.title} width=\"248px\" height=\"200px\" />\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">{book.title}</li>\r\n                  <li className=\"list-group-item\">$ {book.price}</li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"card-footer \">\r\n                  <Link to={`/books/view/${book.title.replace(/\\s+/g, '-').toLowerCase()}/${book._id}`} className=\"btn btn-primary btn-sm m-2\">View Book</Link>\r\n                  <button className=\"btn btn-danger btn-sm\" onClick={()=>handledeleteBook(book)}>Delete Book</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          </div>\r\n          <Pagination/>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AdminBookLists;","import React,{useContext,useState} from 'react';\r\nimport Joi from 'joi-browser'\r\nimport userContext from './../../../context/userContext';\r\nimport http from '../../../services/http';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nconst EditBookData = () => {\r\n  const results=useContext(userContext)\r\n  const bookValues=results.bookValues\r\n  const [book,setBook]=useState(bookValues)\r\n  const [errors,setErrors]=useState({});\r\n  const genres=results.genres;\r\n  const [serverMessage,setServerMessage]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  \r\n  const {_id}=useParams()\r\n \r\n  let schema={\r\n    title:Joi.string().required().label('Title'),\r\n    price:Joi.number().required().positive().label('Price'),\r\n    genreId:Joi.string().required().label('Genre'),\r\n  }\r\n\r\n  //add validate property to display schema errors\r\n  const validate=()=>{\r\n    const options={abortEarly:false}\r\n    const {error}=Joi.validate(book,schema,options)\r\n    if(!error)return null;\r\n    const errors={}\r\n    for (let item of error.details)\r\n    errors[item.path[0]]=item.message\r\n    return errors\r\n   \r\n  }\r\n  const validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    schema = { [name]: schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n  const handleBookChange=({currentTarget:input})=>{\r\n    const newErrors = {...errors};\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage) newErrors[input.name] = errorMessage;\r\n    else delete newErrors[input.name];\r\n    setErrors(newErrors)\r\n    const {name,value}=input\r\n    setBook({...book,[name]:value})\r\n  }\r\n\r\n  const handleBookUpdate=async(book)=>{\r\n    let errors=validate()\r\n     setErrors(errors||{})\r\n     if(errors)return;\r\n       const res=await http.put(hostUrl+`/books/${_id}`,book)\r\n        if(res&&res.status===200){\r\n          setServerMessage(res.data)\r\n          setTimeout(()=>{window.location=\"/booklists\"},1000)\r\n        }\r\n  }\r\n\r\n  const renderInput=(type,name,label,value)=>{\r\n    return(\r\n      <div className=\"form-group mb-2\">\r\n        <label htmlFor={name}>{label}</label>\r\n        <input type={type} name={name} defaultValue={value}  className=\"form-control mt-2\" onChange={handleBookChange} />\r\n        {errors[name] && <p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n  const renderSelect=(name,label,options)=>{\r\n    return(\r\n      <div className=\"form-group mt-2\">\r\n        <label>{label}</label>\r\n        <select \r\n        name={name}/*\"genreId\"*/\r\n        onChange={handleBookChange}\r\n        className=\"form-select mt-2\"\r\n        value={book.genreId}\r\n        >\r\n        {options.map((cat)=>(\r\n          <option key={cat._id} value={cat._id} >{cat.title}</option>\r\n          ))} \r\n        </select>\r\n        {errors&&<p className=\"text-danger\">{errors[name]}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    <div className=\"row mt-5\" >\r\n      <div className=\"col-md-8 mx-auto\">\r\n        <div className=\"card card-body\">\r\n          {serverMessage&&<div className=\"alert alert-success\">{serverMessage}</div>}\r\n          <h4 className=\"text-center text-primary\">Update book</h4>\r\n          <form onSubmit={e=>{\r\n            e.preventDefault()\r\n            handleBookUpdate(book)\r\n          }}>\r\n            \r\n            {renderInput('text','title','Book Title',book.title)}\r\n            {renderInput('text','price','Price',book.price)}\r\n            {renderSelect('genreId','Category',genres)}\r\n            <button className=\"btn btn-primary mt-3\" disabled={validate()} >Update</button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default EditBookData;","import React,{useEffect,useState,useContext} from 'react';\r\nimport { useParams,Link } from 'react-router-dom';\r\nimport http from '../../../services/http';\r\nimport userContext from './../../../context/userContext';\r\n\r\nconst AdminViewBook = () => {\r\n  const [data,setData]=useState([])\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const lists=useContext(userContext)\r\n  const handleEditData=lists.handleEditData\r\n\r\n  const {bookId}=useParams()\r\n  useEffect(()=>{\r\n    async function getSingleBook(){\r\n      const {data:res}=await http.get(hostUrl+`/books/${bookId}`)\r\n      setData(res)\r\n    }\r\n    getSingleBook()\r\n  },[bookId,hostUrl])\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n     \r\n        {data.map(book=>(\r\n         <div className=\"row mt-5\" key={book._id}>\r\n          <div className=\"col-md-4 mb-2\" >\r\n            <div className=\"text-center \">\r\n            <img src={book.image} alt={book.title} width=\"250\" height=\"250\"/>\r\n            <Link to ={`/books/edit-image/${book._id}`}>\r\n              <i className=\"fa fa-pencil  text-primary\" style={{position:'absolute',top:\"95px\" ,fontSize:\"20px\"}} role=\"button\" /></Link>\r\n            </div>\r\n            </div>\r\n           <div className=\"col-md-8 \">\r\n             <div className=\"card card-body\" style={{border:\"white\"}}>\r\n             <Link to ={`/books/edit/${book._id}`}>\r\n              <i className=\"fa fa-pencil  text-primary\" style={{position:'absolute',top:\"15px\" ,right:\"70px\" ,fontSize:\"20px\"}} role=\"button\" onClick={()=>handleEditData(book)}/></Link>\r\n               <h1>{book.title}</h1>\r\n               <h3>$ {book.price}</h3>\r\n               <h5>{book.genre.title}</h5> \r\n             </div>\r\n           </div>\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AdminViewBook;","import React, { useState } from 'react';\r\nimport http from '../../../services/http';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst EditBookImage = () => {\r\n  const [image,setImage]=useState('')\r\n  const [success,setSuccess]=useState('')\r\n  const hostUrl=process.env.REACT_APP_HOST_URL\r\n  const {_id}=useParams()\r\n  const handleImageChange=e=>{\r\n    setImage(e.target.files[0])\r\n  }\r\n  const handleEditBookImage=async()=>{\r\n    \r\n    const formData=new FormData()\r\n    formData.append('image',image)\r\n    const config={\r\n      Headers:{'Content-Type':'multipart/form-data'}\r\n    }\r\n    const res=await http.put(hostUrl+`/books/bookImage/${_id}`,formData,config)\r\n    if(res && res.status===200){\r\n      setSuccess(res.data)\r\n    }\r\n    setTimeout(() => {\r\n      window.location=\"/booklists\"\r\n    }, 2000);\r\n    \r\n  }\r\n  return (\r\n    <React.Fragment>\r\n     <div className=\"row mt-5\">\r\n        <div className=\"col-md-7 mx-auto\">\r\n          <div className=\"card card-body\">\r\n            {success&&<div className=\"alert alert-success\">{success}</div>}\r\n            <h3 className=\"text-center\">Edit Book Image</h3>\r\n            <form onSubmit={e=>{\r\n              e.preventDefault()\r\n                handleEditBookImage()\r\n            }}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"image\">Upload image</label>\r\n                <input type=\"file\"\r\n                name='image'\r\n                id='image'\r\n                onChange={handleImageChange}\r\n                className='form-control'\r\n                />\r\n              </div>\r\n              <button className=\"btn btn-primary mt-2\">Upload</button>\r\n\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default EditBookImage;","import React, {useEffect, useState ,useContext} from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport jwtDecode from 'jwt-decode';\nimport NavBar from './hooks/common/navbar';\nimport Login from './hooks/users/login';\nimport Register from './hooks/users/register';\nimport Home from './hooks/home';\nimport userContext from './context/userContext'\nimport Logout from './hooks/users/logout';\nimport Forget from './hooks/users/forgetPassword';\nimport Profile from './hooks/users/profile';\nimport AddBook from './hooks/books/admin/addBook';\nimport CheckToken from './hooks/common/token';\nimport NotFound from './hooks/notFound';\nimport CheckEmail from './hooks/users/checkemail';\nimport AssignPassword from './hooks/users/assignPas';\nimport ResetPassword from './hooks/common/reset';\nimport http from './services/http';\nimport EditProfileImage from './hooks/edit/profileImage';\nimport ViewBook from './hooks/books/client/viewBook';\nimport ShoppingCart from './hooks/books/client/shoppingCart';\nimport ViewCategory from './hooks/books/client/viewCategory';\nimport AddGenre from './hooks/books/admin/addGenre';\nimport AdminBookLists from './hooks/books/admin/booklists';\nimport EditBookData from './hooks/books/admin/editBookData';\nimport AdminViewBook from './hooks/books/admin/adminViewBook';\nimport EditBookImage from './hooks/books/admin/editBookImage';\nexport default function App(){\n  const cartFromLocalStorage=JSON.parse(localStorage.getItem('cart')||\"[]\")\n  const [user,setUser]=useState('')\n  const [genres,setGenres]=useState([])\n  const [books,setBooks]=useState([])\n  const initialBookValues={title:'',price:'',genreId:''} \n  const [bookValues,setBookValues]=useState(initialBookValues)\n  const [searchQuery,setSearchQuery]=useState('')\n  const [currentPage,setCurrentPage]=useState(1)\n  const [selectedGenre,setSelectedGenre]=useState(null)\n  const [cart,setCart]=useState(cartFromLocalStorage)\n  const pageSize=6\n  // const hostUrl=process.env.REACT_APP_HOST_URL\n  const hostUrl=process.env.REACT_APP_HOST_URL\n  const [loading,setLoading]=useState(true)\n\n  //filteringby genre and search\n  let filtering=books;\n  if (searchQuery)\n      filtering = books.filter((book) =>\n        book.title.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    else if (selectedGenre && selectedGenre._id)\n      filtering = books.filter((i) => i.genre._id === selectedGenre._id);\n      \n\n  useEffect(()=>{\n    setTimeout(() => {\n      try{\n        //get genres\n      const getGenres=async()=>{\n        // setLoading(false)\n        const {data:res}=await http.get(hostUrl+'/genres')\n        setGenres([{ _id: \"\", title: \"All Books\" },...res])\n      }\n      getGenres();\n      //getBooks\n      const getBooks=async()=>{\n        const {data:res}=await http.get(hostUrl+'/books')\n        setBooks(res)\n        setLoading(false)\n      }\n      getBooks()\n      //save items to localstorage\n      localStorage.setItem('cart',JSON.stringify(cart))\n      // //jwtDecode token\n      const jwt=localStorage.getItem('token')\n      const decode=jwtDecode(jwt)\n      setUser(decode);\n\n    }catch(ex){\n      return null\n    }\n      \n    }, 1000);\n\n  },[cart,hostUrl])\n\n //add to shopping cart \n  const addToCart=(book)=>{\n    let newCart=[...cart]\n    let itemIncart=newCart.find(item=>book._id===item._id)\n    if(itemIncart){\n      itemIncart.quantity++\n    }else{\n      itemIncart={\n        ...book,\n        quantity:1\n      }\n      newCart.push(itemIncart)\n    }\n    setCart(newCart)\n  }\n  const deleteCartItem=(book)=>{\n    let cartItems=[...cart]\n    cartItems=cartItems.filter(item=>book._id!==item._id)\n    setCart(cartItems)\n\n  }\n  const getCartTotal=()=>{\n    return cart.reduce((sum,{quantity})=>sum + quantity,0);\n  }\n  const getTotalPrice=()=>{\n    return cart.reduce((sum,{price,quantity})=>sum + quantity*price,0);\n  }\n  const handleIncrement=(book)=>{\n    let newCart=[...cart]\n    let itemInCart=newCart.find(item=>item._id===book._id)\n    if(itemInCart){\n      itemInCart.quantity++\n    }\n    setCart(newCart)\n  }\n  const handleDecrement=(book)=>{\n    let newCart=[...cart]\n    let itemInCart=newCart.find(item=>item._id===book._id)\n    if(itemInCart){\n      itemInCart.quantity--\n    }\n    setCart(newCart)\n  }\n  const clearAllCartItems=()=>{\n    setCart([])\n  }\n  const onPageChange=(page)=>{\n    setCurrentPage(page) \n  }\n  const handleGenreSelect=(genre)=>{\n    setSearchQuery('')\n    setSelectedGenre(genre)\n    setCurrentPage(1)\n  }\n  const handleSearch=query=>{\n    setSearchQuery(query)\n    setSelectedGenre(null)\n    setCurrentPage(1)\n  } \n  //books\n  const handleEditData=book=>{\n    setBookValues({title:book.title,price:book.price,genreId:book.genre._id})\n  }\n\n  return(\n    <React.Fragment>\n      <userContext.Provider value={{user,genres,pageSize,cart,currentPage,onPageChange,handleGenreSelect,handleSearch,searchQuery,selectedGenre,filtering,addToCart,cartFromLocalStorage,getCartTotal,getTotalPrice,deleteCartItem,handleIncrement,handleDecrement,clearAllCartItems,handleEditData,bookValues,loading}}>\n\n      <NavBar />\n      <div style={{maxWidth: \"80%\",margin: '0 auto',marginTop: '0px', display: 'block',paddingTop:\"70px\" }} >\n        <Switch>\n          <AdminRoute path=\"/books/add\" ><AddBook/></AdminRoute>\n          <AdminRoute path=\"/genre/add\" ><AddGenre/></AdminRoute>\n          <AdminRoute path=\"/books/edit/:_id\" ><EditBookData/></AdminRoute>\n          <AdminRoute path=\"/books/edit-image/:_id\" ><EditBookImage/></AdminRoute>\n          <AdminRoute path=\"/books/view/:bookTitle/:bookId\" ><AdminViewBook/></AdminRoute>\n          <AdminRoute path=\"/booklists\" ><AdminBookLists/></AdminRoute>\n           {/* User-Routes */}\n          <PrivateRoute path=\"/profile/edit/image\"><EditProfileImage/></PrivateRoute>\n          <PrivateRoute path=\"/profile\"><Profile/></PrivateRoute>\n           {/* General-Routes */}\n          <Route path=\"/login\"><Login/></Route>\n          <Route path=\"/cart\"><ShoppingCart/></Route>\n          <Route path=\"/register\"><Register/></Route>\n          <Route path=\"/forget\"><Forget/></Route>\n          <Route path=\"/checkemail\"><CheckEmail/></Route>\n          <Route path=\"/assign-password\"><AssignPassword/></Route>\n          <Route path=\"/users/confirm/:token\"><CheckToken/></Route>\n          <Route path=\"/users/forget/:token\"><ResetPassword/></Route>\n          <Route path=\"/books/:bookTitle/:bookId/\"><ViewBook/></Route>\n          <Route path=\"/categories/:genreTitle\"><ViewCategory/></Route>\n          <Route path=\"/logout\"><Logout/></Route>\n          <Route path=\"/\" exact><Home/></Route>\n          <Route path=\"/not-found\"   ><NotFound/></Route>\n          <Redirect to=\"/not-found\"/>\n         \n        </Switch>\n      </div>\n      </userContext.Provider>\n    </React.Fragment>\n  )\n}\n\nconst PrivateRoute=({ children, ...rest }) =>{\n  const auth=localStorage.getItem('token')\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        auth ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  )\n}\nconst AdminRoute=({ children, ...rest }) =>{\n  const admin=useContext(userContext)\n  let auth=admin.user\n  if(auth.isAdmin===true){\n    localStorage.setItem('check',true)\n  }\n  const checkAdmin=localStorage.getItem('check')\n\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        checkAdmin ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/not-found\",\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n// import 'bootstrap/dist/css/bootstrap.css';\n// import 'font-awesome/css/font-awesome.css'\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter><App /></BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}